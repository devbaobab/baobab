<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=EUC-KR">
<script src="script/jquery.js"></script>
<title>Facebook API Test</title>
<style>
#logout_button
{
	display:none;
}
</style>
</head>
<body>

<div id="fb-root"></div>
<script>
	var FB_clone;
  window.fbAsyncInit = function() {
	  FB_clone = FB;
    FB.init({
      appId      : '213301058800366', // App ID
      channelUrl : 'http://143.248.96.111:9080/FacebookAPITest/channel.php', // Channel File
      status     : true, // check login status
      cookie     : true, // enable cookies to allow the server to access the session
      xfbml      : true  // parse XFBML
    });
    
    // Additional initialization code here
  };
  
  function fb_login()
  {
  FB_clone.login(function(response) {
	   if (response.authResponse) {
	     console.log('Welcome!  Fetching your information.... ');
	     FB_clone.api('/me', function(response) {
	       console.log('Good to see you, ' + response.name + '.');
	     });
	     $('#login_button').hide();
	     $('#logout_button').fadeIn(100);
	     
	   } else {
	     console.log('User cancelled login or did not fully authorize.');
	   }
	 });
  }
  
  function fb_logout()
  {
  	FB_clone.logout(function(response){
	     $('#logout_button').hide();
	     $('#login_button').fadeIn(100);
	     alert(JSON.stringify(response));
  	});
  }
  
  function fb_info()
  {
	  FB_clone.api('/me', function(response) {
		  alert("name : "+response.name);
		  alert("id : "+response.id);
		  alert("gender : "+response.gender);
		  alert("birthday : "+response.birthday);
		  alert("email : "+response.email);
		  alert(JSON.stringify(response));
		});
  }
  function fb_image()
  {
	  FB_clone.api('/me', function(response) {
		  $("#image_box").html("<img src='https://graph.facebook.com/"+response.id+"/picture'/>");
		});
  }
  
  // Load the SDK Asynchronously
  (function(d){
     var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement('script'); js.id = id; js.async = true;
     js.src = "//connect.facebook.net/en_US/all.js";
     ref.parentNode.insertBefore(js, ref);
   }(document));
  
  
</script>
<button id='login_button' onclick="fb_login()">login</button>
<button id='logout_button' onclick="fb_logout()">logout</button>
<button onclick="fb_info()">User info</button>
<button onclick="fb_image()">image</button>
<div id='image_box'></div>
</body>
</html>